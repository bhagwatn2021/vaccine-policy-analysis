---
output: html_document
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse   = TRUE,
  warning    = FALSE,
  message    = FALSE,
  comment    = "#>",
  fig.path   = "man/figures/",
  fig.retina = 3
)
```

```{r, include=FALSE}
# Read in the choice questions
library(tidyverse)
survey <- read_csv("https://raw.githubusercontent.com/bhagwatn2021/vaccine-policy-analysis/main/project_pilot/combined_policy_questions.csv")
# Define the respondent ID
respondentID <- sample(survey$respID, 1)
# Create the subset of rows for that respondent ID
df <- survey %>%
    filter(respID == respondentID) 
  
# Convert df to json
df_json <- jsonlite::toJSON(df)
```
# Great work!

### Now that you've shared a bit about yourself, we'd like you to consider policies designed to encourage COVID-19 vaccinations. Let's learn about policy attributes. 

# Policy Attributes 

Below is a description of the various policy attributes that will vary across every policy - each policy will be a combination of these attributes and their levels. Each attribute contains an associated image helping to explain the attribute. 

### Accessibility

Accessibility refers to the distance in which a vaccination clinic would be placed from your home. It varies with increasing increments from 0-10 miles from a constituent's residence. A distance of 0 miles indicates door-door in-residence vaccination campaigns.

<center>
  <img src="https://raw.githubusercontent.com/bhagwatn2021/vaccine-policy-analysis/main/project_pilot/images/accessibility.png" width=200>
</center>

### Incentives

Incentives refers to the type of commodity that would be given out at tax season for being fully vaccinated against COVID-19 by the tax return deadline. It varies by cash (tax rebates) and cash equivalents (gift cards) redeemable at: 

- Grocery stores 
- Internet providers 
- Professional sporting events

<center>
  <img src="https://raw.githubusercontent.com/bhagwatn2021/vaccine-policy-analysis/main/project_pilot/images/incentives.png" width=200>
</center>

### Incentive Value 

Incentive value refers to the value of commodities that would be given out at tax season for being fully vaccinated against COVID-19 by the tax return deadline. It varies by increasing increments from $0 to $1000.

<center>
  <img src="https://raw.githubusercontent.com/bhagwatn2021/vaccine-policy-analysis/main/project_pilot/images/incentive_value.png" width=200>
</center>

### Penalty

This value refers to the penalty due at tax season for failing to get a being fully vaccinated against COVID-19 by the tax return deadline under a vaccine mandate. It varies by increasing increments from $0 to $1000.

<center>
  <img src="https://raw.githubusercontent.com/bhagwatn2021/vaccine-policy-analysis/main/project_pilot/images/penalty.png" width=200>
</center>

---

# Questions 

We'll now begin with policy options. On the next few pages we will show you different combinations of policy options regarding COVID-19 vaccinations. 

### Practice 

For example, if these were the only options available, would you choose option 1 (a $100 fine if you do not take the vaccine, a vaccination clinic 3 miles from your house, and $50 in cash) and take the vaccine or choose option 2 and not take the vaccine?

- **Mandate**: Vaccine mandated, $100 fine for non-compliance
- **Accessibility**: Vaccination clinic will be located within 3 miles from your house
- **Incentive**: $50 in cash



- I will take the vaccine under these conditions.
- I will not take the vaccine under these conditions.

Questions will start on the next page. 

### Question 1

```{r , echo=FALSE}
df_json <- jsonlite::toJSON(df)
alts <- jsonlite::fromJSON(df_json) %>% 
  filter(qID == 1)
alt1 <- alts %>% filter(altID == 1)
alt2 <- alts %>% filter(altID == 2)
```

**Option 1**

- **Mandate**: `r alt1$penalty_label`
- **Accessibility**: `r alt1$accessibility_label`
- **Incentive**: `r alt1$incentive_label`

**Option 2**

`r alt2$no_vaccine_label`

### Question 2
```{r , echo=FALSE}
df_json <- jsonlite::toJSON(df)
alts <- jsonlite::fromJSON(df_json) %>% 
  filter(qID == 2)
alt1 <- alts %>% filter(altID == 1)
alt2 <- alts %>% filter(altID == 2)
```

**Option 1**

- **Mandate**: `r alt1$penalty_label`
- **Accessibility**: `r alt1$accessibility_label`
- **Incentive**: `r alt1$incentive_label`

**Option 2**

`r alt2$no_vaccine_label`

### Question 3

```{r , echo=FALSE}
df_json <- jsonlite::toJSON(df)
alts <- jsonlite::fromJSON(df_json) %>% 
  filter(qID == 3)
alt1 <- alts %>% filter(altID == 1)
alt2 <- alts %>% filter(altID == 2)
```

**Option 1**

- **Mandate**: `r alt1$penalty_label`
- **Accessibility**: `r alt1$accessibility_label`
- **Incentive**: `r alt1$incentive_label`

**Option 2**

`r alt2$no_vaccine_label`

### Question 4
```{r , echo=FALSE}
df_json <- jsonlite::toJSON(df)
alts <- jsonlite::fromJSON(df_json) %>% 
  filter(qID == 4)
alt1 <- alts %>% filter(altID == 1)
alt2 <- alts %>% filter(altID == 2)
```

**Option 1**

- **Mandate**: `r alt1$penalty_label`
- **Accessibility**: `r alt1$accessibility_label`
- **Incentive**: `r alt1$incentive_label`

**Option 2**

`r alt2$no_vaccine_label`

### Question 5

```{r , echo=FALSE}
df_json <- jsonlite::toJSON(df)
alts <- jsonlite::fromJSON(df_json) %>% 
  filter(qID == 5)
alt1 <- alts %>% filter(altID == 1)
alt2 <- alts %>% filter(altID == 2)
```

**Option 1**

- **Mandate**: `r alt1$penalty_label`
- **Accessibility**: `r alt1$accessibility_label`
- **Incentive**: `r alt1$incentive_label`

**Option 2**

`r alt2$no_vaccine_label`

### Question 6
```{r , echo=FALSE}
df_json <- jsonlite::toJSON(df)
alts <- jsonlite::fromJSON(df_json) %>% 
  filter(qID == 6)
alt1 <- alts %>% filter(altID == 1)
alt2 <- alts %>% filter(altID == 2)
```

**Option 1**

- **Mandate**: `r alt1$penalty_label`
- **Accessibility**: `r alt1$accessibility_label`
- **Incentive**: `r alt1$incentive_label`

**Option 2**

`r alt2$no_vaccine_label`

### Question 7

```{r , echo=FALSE}
df_json <- jsonlite::toJSON(df)
alts <- jsonlite::fromJSON(df_json) %>% 
  filter(qID == 7)
alt1 <- alts %>% filter(altID == 1)
alt2 <- alts %>% filter(altID == 2)
```

**Option 1**

- **Mandate**: `r alt1$penalty_label`
- **Accessibility**: `r alt1$accessibility_label`
- **Incentive**: `r alt1$incentive_label`

**Option 2**

`r alt2$no_vaccine_label`

### Question 8
```{r , echo=FALSE}
df_json <- jsonlite::toJSON(df)
alts <- jsonlite::fromJSON(df_json) %>% 
  filter(qID == 8)
alt1 <- alts %>% filter(altID == 1)
alt2 <- alts %>% filter(altID == 2)
```

**Option 1**

- **Mandate**: `r alt1$penalty_label`
- **Accessibility**: `r alt1$accessibility_label`
- **Incentive**: `r alt1$incentive_label`

**Option 2**

`r alt2$no_vaccine_label`

### Question 9

```{r , echo=FALSE}
df_json <- jsonlite::toJSON(df)
alts <- jsonlite::fromJSON(df_json) %>% 
  filter(qID == 9)
alt1 <- alts %>% filter(altID == 1)
alt2 <- alts %>% filter(altID == 2)
```

**Option 1**

- **Mandate**: `r alt1$penalty_label`
- **Accessibility**: `r alt1$accessibility_label`
- **Incentive**: `r alt1$incentive_label`

**Option 2**

`r alt2$no_vaccine_label`

### Question 10
```{r , echo=FALSE}
df_json <- jsonlite::toJSON(df)
alts <- jsonlite::fromJSON(df_json) %>% 
  filter(qID == 10)
alt1 <- alts %>% filter(altID == 1)
alt2 <- alts %>% filter(altID == 2)
```

**Option 1**

- **Mandate**: `r alt1$penalty_label`
- **Accessibility**: `r alt1$accessibility_label`
- **Incentive**: `r alt1$incentive_label`

**Option 2**

`r alt2$no_vaccine_label`
